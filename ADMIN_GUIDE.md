# Руководство администратора по управлению товарами

## Вход в систему управления

1. Откройте браузер и перейдите по ссылке: [ваш-проект.supabase.co](https://supabase.com/dashboard)
2. Войдите в свой аккаунт Supabase
3. Выберите проект `stroymaster-cms`

## Управление товарами

### Просмотр всех товаров

1. В левом меню нажмите **"Table Editor"**
2. Выберите таблицу **"products"**
3. Вы увидите список всех товаров с возможностью сортировки и фильтрации

### Добавление нового товара

1. В таблице товаров нажмите кнопку **"Insert"** → **"Insert row"**
2. Заполните обязательные поля:

   **Название товара (name)**
   - Введите полное название товара
   - Пример: "Гипсокартон Кнауф ГКЛ 12.5 мм (2500х1200)"

   **Цена (price)**
   - Введите цену в рублях (только цифры)
   - Для товаров "по запросу" введите 0
   - Пример: 1250 или 0

   **Изображение (image)**
   - Вставьте ссылку на изображение товара
   - Рекомендуемый размер: 300x300 пикселей
   - Пример: "https://example.com/image.jpg"

   **Описание (description)**
   - Краткое описание товара и его характеристики
   - Пример: "Стандартный гипсокартонный лист для внутренних работ"

   **Категория (category)**
   - Выберите существующую категорию или введите новую
   - Примеры: "Гипсокартон", "Утеплитель Пеноплекс", "Штукатурка"

   **Активность (is_active)**
   - Поставьте галочку для активного товара
   - Снимите галочку, чтобы скрыть товар с сайта

3. Нажмите **"Save"** для сохранения

### Редактирование товара

1. Найдите нужный товар в списке
2. Нажмите на строку с товаром
3. Измените необходимые поля
4. Нажмите **"Save"** для сохранения изменений

### Скрытие товара с сайта

Вместо удаления товара рекомендуется его скрыть:
1. Найдите товар в списке
2. Нажмите на строку для редактирования
3. Снимите галочку с поля **"is_active"**
4. Нажмите **"Save"**

Товар исчезнет с сайта, но останется в базе данных.

### Удаление товара

⚠️ **Внимание**: удаленные товары восстановить нельзя!

1. Найдите товар в списке
2. Нажмите на иконку корзины в конце строки
3. Подтвердите удаление

## Управление категориями

### Просмотр категорий

Категории создаются автоматически при добавлении товаров. Чтобы увидеть все категории:
1. В SQL Editor выполните запрос:
```sql
SELECT DISTINCT category FROM products WHERE is_active = true ORDER BY category;
```

### Переименование категории

1. Найдите все товары нужной категории
2. Отредактируйте поле **"category"** у каждого товара
3. Введите новое название категории

### Объединение категорий

1. Выберите товары из категории, которую хотите убрать
2. Измените их категорию на существующую
3. Старая категория исчезнет автоматически

## Работа с изображениями

### Загрузка изображений в Supabase

1. Перейдите в раздел **"Storage"**
2. Создайте bucket с именем **"product-images"** (если не создан)
3. Настройте публичный доступ
4. Загрузите изображения
5. Скопируйте публичную ссылку и используйте в товаре

### Требования к изображениям

- **Формат**: JPG, PNG, WebP
- **Размер**: рекомендуется 300x300 - 800x800 пикселей
- **Вес**: не более 500 КБ для быстрой загрузки
- **Качество**: четкое изображение товара на белом фоне

## Поиск и фильтрация

### Поиск товаров

1. В таблице товаров используйте поле поиска вверху
2. Можно искать по названию, описанию или категории
3. Используйте фильтры для уточнения результатов

### Фильтрация по категории

1. Нажмите на заголовок столбца **"category"**
2. Выберите нужную категорию из списка
3. Таблица покажет только товары этой категории

### Фильтрация по активности

Чтобы увидеть только активные товары:
1. Нажмите на заголовок столбца **"is_active"**
2. Выберите **"true"** для активных товаров
3. Или **"false"** для скрытых товаров

## Массовые операции

### Скрытие нескольких товаров

1. Выберите товары, поставив галочки слева
2. Нажмите **"Update selected"**
3. Измените поле **"is_active"** на **false**
4. Нажмите **"Update"**

### Изменение категории у нескольких товаров

1. Выберите нужные товары
2. Нажмите **"Update selected"**
3. Измените поле **"category"**
4. Нажмите **"Update"**

## Резервное копирование

### Экспорт данных

1. Перейдите в **"SQL Editor"**
2. Выполните запрос:
```sql
SELECT * FROM products ORDER BY id;
```
3. Нажмите **"Download CSV"** для сохранения

### Импорт данных

1. Подготовьте CSV файл с товарами
2. В **"Table Editor"** нажмите **"Import data"**
3. Выберите файл и настройте соответствие полей
4. Нажмите **"Import"**

## Мониторинг и аналитика

### Просмотр статистики

1. В **"SQL Editor"** выполните запросы:

**Количество товаров по категориям:**
```sql
SELECT category, COUNT(*) as count 
FROM products 
WHERE is_active = true 
GROUP BY category 
ORDER BY count DESC;
```

**Товары без цены:**
```sql
SELECT name, category 
FROM products 
WHERE price = 0 AND is_active = true;
```

**Последние добавленные товары:**
```sql
SELECT name, category, created_at 
FROM products 
ORDER BY created_at DESC 
LIMIT 10;
```

## Устранение проблем

### Товар не отображается на сайте

1. Проверьте, что **"is_active"** = true
2. Убедитесь, что все обязательные поля заполнены
3. Проверьте корректность ссылки на изображение

### Изображение не загружается

1. Проверьте ссылку на изображение в браузере
2. Убедитесь, что изображение доступно публично
3. Попробуйте загрузить изображение в Supabase Storage

### Ошибки при сохранении

1. Проверьте, что все обязательные поля заполнены
2. Убедитесь, что цена указана числом
3. Проверьте длину текста в полях

## Контакты для поддержки

При возникновении технических проблем обращайтесь к разработчику сайта.

**Важно**: всегда делайте резервные копии перед массовыми изменениями!